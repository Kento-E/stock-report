# stock-report

æ ªå¼éŠ˜æŸ„ã®å‹•å‘ã‚’AIï¼ˆClaude Sonnet / Geminiï¼‰ã§è‡ªå‹•åˆ†æã—ã€HTMLå½¢å¼ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆãƒ»ãƒ¡ãƒ¼ãƒ«é…ä¿¡ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

> **é–‹ç™ºè€…å‘ã‘æƒ…å ±**: è©³ç´°ãªæŠ€è¡“ä»•æ§˜ãƒ»è¦ä»¶å®šç¾©ã¯ [requirements.instructions.md](.github/instructions/requirements.instructions.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ç‰¹å¾´

- ğŸ¤– **AIåˆ†æ**: Claude Sonnetã¾ãŸã¯Gemini APIã«ã‚ˆã‚‹æ ªä¾¡ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹åˆ†æ
- ğŸ“Š **è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ**: HTMLå½¢å¼ã®è¦‹ã‚„ã™ã„ãƒ¬ãƒãƒ¼ãƒˆ
- ğŸ“§ **ãƒ¡ãƒ¼ãƒ«é…ä¿¡**: è¤‡æ•°å®›å…ˆã¸ã®BCCé€ä¿¡
- ğŸ“‘ **åˆ†é¡åˆ¥ãƒ¬ãƒãƒ¼ãƒˆ**: ä¿æœ‰éŠ˜æŸ„ã€ç©ºå£²ã‚ŠéŠ˜æŸ„ã€è³¼å…¥æ¤œè¨ä¸­ã®éŠ˜æŸ„ã‚’è‡ªå‹•åˆ†é¡ã—ã¦ãƒ¡ãƒ¼ãƒ«é…ä¿¡
- â° **è‡ªå‹•å®Ÿè¡Œ**: GitHub Actionsã«ã‚ˆã‚‹æ—¥æ¬¡å®Ÿè¡Œ
- ğŸ”§ **ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ**: ä¿å®ˆæ€§ãƒ»æ‹¡å¼µæ€§ã®é«˜ã„æ§‹é€ 
- âœ… **è‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: stocks.yamlãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã‚’è‡ªå‹•æ¤œè¨¼

## ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯æ©Ÿèƒ½åˆ¥ã«ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«åŒ–ã•ã‚Œã¦ãŠã‚Šã€å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒå˜ä¸€ã®è²¬ä»»ã‚’æŒã¤è¨­è¨ˆã«ãªã£ã¦ã„ã¾ã™ã€‚

```
src/
â”œâ”€â”€ config.py                  # ç’°å¢ƒå¤‰æ•°ã¨è¨­å®šç®¡ç†
â”œâ”€â”€ stock_loader.py            # YAMLéŠ˜æŸ„ãƒªã‚¹ãƒˆèª­ã¿è¾¼ã¿ãƒ»åˆ†é¡
â”œâ”€â”€ preference_loader.py       # æŠ•è³‡å¿—å‘æ€§è¨­å®šèª­ã¿è¾¼ã¿ãƒ»ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
â”œâ”€â”€ validate_stocks.py         # stocks.yamlãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ validate_preferences.py    # investment_preferences.yamlãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ data_fetcher.py            # æ ªä¾¡ãƒ»ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿å–å¾—
â”œâ”€â”€ ai_analyzer.py             # AIåˆ†æï¼ˆClaude/Geminiï¼‰
â”œâ”€â”€ report_generator.py        # HTMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
â”œâ”€â”€ mail_utils.py              # ãƒ¡ãƒ¼ãƒ«é…ä¿¡ãƒ»åˆ†é¡åˆ¥æœ¬æ–‡ç”Ÿæˆ
â””â”€â”€ main.py                    # ãƒ¡ã‚¤ãƒ³ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
```

è©³ç´°ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ§‹æˆã¨ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã«ã¤ã„ã¦ã¯ã€[è¦ä»¶å®šç¾©æ›¸](.github/instructions/requirements.instructions.md#5-ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆ) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## Github Actionsç”¨ Secrets and variables è¨­å®šæ–¹æ³•

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è‡ªå‹•å®Ÿè¡Œãƒ»ãƒ¡ãƒ¼ãƒ«é…ä¿¡ã«ã¯ã€Githubãƒªãƒã‚¸ãƒˆãƒªã®Webç”»é¢ã‹ã‚‰ä»¥ä¸‹ã®ã€ŒSecrets and variablesã€ã®ç™»éŒ²ãŒå¿…è¦ã§ã™ã€‚

### å¿…é ˆSecretsï¼ˆãƒªãƒã‚¸ãƒˆãƒªè¨­å®š > Settings > Secrets and variables > Actionsï¼‰

| Secretå         | ç”¨é€”                         | ä¾‹ãƒ»å‚™è€ƒ           |
| ---------------- | ---------------------------- | ------------------ |
| `CLAUDE_API_KEY` | Claude Sonnet APIã‚­ãƒ¼        |                    |
| `GEMINI_API_KEY` | GEMINI APIã‚­ãƒ¼               |                    |
| `MAIL_TO`        | ãƒ¬ãƒãƒ¼ãƒˆé€ä¿¡å…ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ |                    |
| `MAIL_FROM`      | é€ä¿¡å…ƒãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹         |                    |
| `SMTP_SERVER`    | SMTPã‚µãƒ¼ãƒãƒ¼                 | ä¾‹: smtp.gmail.com |
| `SMTP_PORT`      | SMTPãƒãƒ¼ãƒˆ                   | é€šå¸¸587            |
| `SMTP_USER`      | SMTPèªè¨¼ãƒ¦ãƒ¼ã‚¶ãƒ¼             |                    |
| `SMTP_PASS`      | SMTPèªè¨¼ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰           |                    |
| `YAHOO_API_KEY`  | Yahoo Finance APIã‚­ãƒ¼        |                    |

> ã“ã‚Œã‚‰ã¯ã€ŒRepository secretsã€ã¨ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚å€¤ã¯å¤–éƒ¨ã«å…¬é–‹ã•ã‚Œã¾ã›ã‚“ã€‚

### Variablesï¼ˆãƒªãƒã‚¸ãƒˆãƒªè¨­å®š > Settings > Secrets and variables > Actions > Variablesï¼‰

| Variableå               | ç”¨é€”                           | è¨­å®šå€¤             |
| ------------------------ | ------------------------------ | ------------------ |
| `SIMPLIFY_HOLD_REPORTS`  | ãƒ›ãƒ¼ãƒ«ãƒ‰åˆ¤æ–­æ™‚ã®ãƒ¬ãƒãƒ¼ãƒˆç°¡ç•¥åŒ– | `true` ã¾ãŸã¯ `false` |

> ã“ã‚Œã‚‰ã¯ã€ŒRepository variablesã€ã¨ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯`true`ã§ã™ã€‚

### ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®š

#### ãƒ¬ãƒãƒ¼ãƒˆç°¡ç•¥åŒ–ã‚ªãƒ—ã‚·ãƒ§ãƒ³

`SIMPLIFY_HOLD_REPORTS` ã‚’è¨­å®šã™ã‚‹ã“ã¨ã§ã€AIåˆ†æã®å£²è²·åˆ¤æ–­ãŒã€Œãƒ›ãƒ¼ãƒ«ãƒ‰ã€ã®å ´åˆã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç°¡ç•¥åŒ–ã§ãã¾ã™ã€‚

- **`true` (ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ)**: ãƒ›ãƒ¼ãƒ«ãƒ‰åˆ¤æ–­æ™‚ã¯éŠ˜æŸ„åã€ç¾åœ¨ä¾¡æ ¼ã€ãƒ›ãƒ¼ãƒ«ãƒ‰ç†ç”±ã®è¦ç´„ã®ã¿è¡¨ç¤º
- **`false`**: ãƒ›ãƒ¼ãƒ«ãƒ‰åˆ¤æ–­ã§ã‚‚è©³ç´°ãªåˆ†æãƒ¬ãƒãƒ¼ãƒˆã‚’è¡¨ç¤º

ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ãŒé•·ã™ãã¦èª­ã¿ã¥ã‚‰ã„å ´åˆã¯ã€ã“ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šèª­ã¿ã‚„ã™ã•ãŒå‘ä¸Šã—ã¾ã™ã€‚

## æŠ•è³‡å¿—å‘æ€§ã®è¨­å®š

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æŠ•è³‡ã«å¯¾ã™ã‚‹å¿—å‘æ€§ã‚’è¨­å®šã—ã€AIåˆ†æã®è¦–ç‚¹ã‚’èª¿æ•´ã§ãã¾ã™ã€‚

### æŠ•è³‡å¿—å‘æ€§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†æ–¹æ³•

1. GitHubä¸Šã§ `data/investment_preferences.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
2. ç·¨é›†ãƒœã‚¿ãƒ³ï¼ˆé‰›ç­†ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯
3. æŠ•è³‡ã‚¹ã‚¿ã‚¤ãƒ«ã€ãƒªã‚¹ã‚¯è¨±å®¹åº¦ãªã©ã®è¨­å®šã‚’ç·¨é›†
4. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ

ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚‚åŒæ§˜ã®æ‰‹é †ã§ç·¨é›†ã§ãã¾ã™ã€‚

### è¨­å®šé …ç›®

#### æŠ•è³‡ã‚¹ã‚¿ã‚¤ãƒ« (`investment_style`)

- `growth`: æˆé•·æŠ•è³‡ï¼ˆæˆé•·æ€§é‡è¦–ã€é«˜ãƒªã‚¹ã‚¯ãƒ»é«˜ãƒªã‚¿ãƒ¼ãƒ³ï¼‰
- `value`: ãƒãƒªãƒ¥ãƒ¼æŠ•è³‡ï¼ˆå‰²å®‰æ ªæŠ•è³‡ã€ä¸­ãƒªã‚¹ã‚¯ãƒ»ä¸­ãƒªã‚¿ãƒ¼ãƒ³ï¼‰
- `income`: ã‚¤ãƒ³ã‚«ãƒ ã‚²ã‚¤ãƒ³æŠ•è³‡ï¼ˆé…å½“ãƒ»å„ªå¾…é‡è¦–ã€ä½ãƒªã‚¹ã‚¯ãƒ»å®‰å®šå¿—å‘ï¼‰
- `balanced`: ãƒãƒ©ãƒ³ã‚¹æŠ•è³‡ï¼ˆæˆé•·ã¨é…å½“ã®ãƒãƒ©ãƒ³ã‚¹ã€ä¸­ãƒªã‚¹ã‚¯ï¼‰
- `speculative`: æŠ•æ©Ÿçš„æŠ•è³‡ï¼ˆçŸ­æœŸå£²è²·ã€é«˜ãƒªã‚¹ã‚¯ãƒ»é«˜ãƒªã‚¿ãƒ¼ãƒ³ï¼‰

#### ãƒªã‚¹ã‚¯è¨±å®¹åº¦ (`risk_tolerance`)

- `low`: ä½ãƒªã‚¹ã‚¯ï¼ˆå…ƒæœ¬é‡è¦–ã€å®‰å…¨æ€§å„ªå…ˆï¼‰
- `medium`: ä¸­ãƒªã‚¹ã‚¯ï¼ˆé©åº¦ãªãƒªã‚¹ã‚¯ã¨ãƒªã‚¿ãƒ¼ãƒ³ã®ãƒãƒ©ãƒ³ã‚¹ï¼‰
- `high`: é«˜ãƒªã‚¹ã‚¯ï¼ˆç©æ¥µçš„ãªãƒªã‚¿ãƒ¼ãƒ³è¿½æ±‚ã€æå¤±è¨±å®¹åº¦ãŒé«˜ã„ï¼‰

#### æŠ•è³‡æœŸé–“ (`investment_horizon`)

- `short`: çŸ­æœŸï¼ˆæ•°æ—¥ï½æ•°é€±é–“ï¼‰
- `medium`: ä¸­æœŸï¼ˆæ•°ãƒ¶æœˆï½1å¹´ï¼‰
- `long`: é•·æœŸï¼ˆæ•°å¹´ä»¥ä¸Šï¼‰

#### å£²è²·é »åº¦ã®å‚¾å‘ (`trading_frequency`)

- `high`: é »ç¹ï¼ˆãƒ‡ã‚¤ãƒˆãƒ¬ãƒ¼ãƒ‰ã€ã‚¹ã‚¤ãƒ³ã‚°ãƒˆãƒ¬ãƒ¼ãƒ‰ï¼‰
- `medium`: é©åº¦ï¼ˆé€±æ¬¡ï½æœˆæ¬¡ã§å£²è²·ï¼‰
- `low`: å°‘ãªã„ï¼ˆãƒã‚¤&ãƒ›ãƒ¼ãƒ«ãƒ‰ã€é•·æœŸä¿æœ‰ï¼‰

#### é‡è¦–ã™ã‚‹æŒ‡æ¨™ (`focus_areas`)

è¤‡æ•°é¸æŠå¯èƒ½ï¼š

- `technical`: ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«åˆ†æï¼ˆãƒãƒ£ãƒ¼ãƒˆã€ç§»å‹•å¹³å‡ã€RSIãªã©ï¼‰
- `fundamental`: ãƒ•ã‚¡ãƒ³ãƒ€ãƒ¡ãƒ³ã‚¿ãƒ«åˆ†æï¼ˆPERã€PBRã€è²¡å‹™çŠ¶æ³ï¼‰
- `news`: ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ»ã‚¤ãƒ™ãƒ³ãƒˆï¼ˆå¸‚å ´ã‚»ãƒ³ãƒãƒ¡ãƒ³ãƒˆã€ä¼æ¥­ãƒ‹ãƒ¥ãƒ¼ã‚¹ï¼‰
- `dividend`: é…å½“åˆ©å›ã‚Šï¼ˆæ ªä¸»å„ªå¾…ã€ã‚¤ãƒ³ã‚«ãƒ ã‚²ã‚¤ãƒ³ï¼‰
- `momentum`: ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ ï¼ˆãƒˆãƒ¬ãƒ³ãƒ‰ã€å‹¢ã„ï¼‰

#### ã‚«ã‚¹ã‚¿ãƒ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (`custom_message`)

AIã¸ã®è¿½åŠ ã®æŒ‡ç¤ºã‚„å¥½ã¿ã‚’è‡ªç”±è¨˜è¿°ã§ãã¾ã™ã€‚

ä¾‹: ã€Œç’°å¢ƒã«é…æ…®ã—ãŸä¼æ¥­ã‚’å„ªå…ˆã—ãŸã„ã€ã€Œãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ä¼æ¥­ã«é–¢å¿ƒãŒã‚ã‚‹ã€

### è¨­å®šä¾‹

```yaml
# æˆé•·æŠ•è³‡å®¶ã®ä¾‹
investment_style: growth
risk_tolerance: high
investment_horizon: long
trading_frequency: low
focus_areas:
  - technical
  - momentum
custom_message: "ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ä¼æ¥­ã‚’å„ªå…ˆã—ãŸã„"
```

```yaml
# é…å½“é‡è¦–ã®å®‰å®šå¿—å‘æŠ•è³‡å®¶ã®ä¾‹
investment_style: income
risk_tolerance: low
investment_horizon: long
trading_frequency: low
focus_areas:
  - dividend
  - fundamental
custom_message: "å®‰å®šã—ãŸé…å½“ãŒæœŸå¾…ã§ãã‚‹ä¼æ¥­ã‚’å„ªå…ˆ"
```

## éŠ˜æŸ„ãƒªã‚¹ãƒˆã®ç®¡ç†

åˆ†æå¯¾è±¡ã®éŠ˜æŸ„ãƒªã‚¹ãƒˆã¯ã€ãƒªãƒã‚¸ãƒˆãƒªå†…ã® `data/stocks.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¾ã™ã€‚

> **è©³ç´°ãªç·¨é›†ã‚¬ã‚¤ãƒ‰**: [data/README.md](data/README.md) ã«ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®è©³ç´°èª¬æ˜ã‚„ç·¨é›†æ–¹æ³•ã®è©³ç´°ã‚’è¨˜è¼‰ã—ã¦ã„ã¾ã™ã€‚

### éŠ˜æŸ„ãƒªã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ç·¨é›†æ–¹æ³•

1. GitHubä¸Šã§ `data/stocks.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
2. ç·¨é›†ãƒœã‚¿ãƒ³ï¼ˆé‰›ç­†ã‚¢ã‚¤ã‚³ãƒ³ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯
3. éŠ˜æŸ„ã‚’è¿½åŠ ãƒ»å‰Šé™¤ãƒ»ç·¨é›†
4. å¤‰æ›´ã‚’ã‚³ãƒŸãƒƒãƒˆ

ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚‚åŒæ§˜ã®æ‰‹é †ã§ç·¨é›†ã§ãã¾ã™ã€‚

### éŠ˜æŸ„ãƒªã‚¹ãƒˆã®æ›¸å¼

YAMLå½¢å¼ã§è¨˜è¿°ã—ã¾ã™ã€‚è©³ç´°ãªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ä»•æ§˜ã‚„è¨˜è¿°ä¾‹ã«ã¤ã„ã¦ã¯ [data/README.md](data/README.md) ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**ä¸»ãªæ©Ÿèƒ½:**
- ä¿æœ‰æƒ…å ±ï¼ˆ`quantity`ã€`acquisition_price`ï¼‰ã‚’è¨­å®šã™ã‚‹ã¨ã€AIãŒä¿æœ‰çŠ¶æ³ã‚’è€ƒæ…®ã—ãŸå£²è²·åˆ¤æ–­ã‚’æä¾›
- éŠ˜æŸ„ã¯ä¿æœ‰çŠ¶æ³ã«å¿œã˜ã¦è‡ªå‹•åˆ†é¡ã•ã‚Œã€ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ã§ã‚»ã‚¯ã‚·ãƒ§ãƒ³åˆ†ã‘ã—ã¦è¡¨ç¤º
- æ—¥æœ¬æ ªãƒ»ç±³å›½æ ªãªã©è¤‡æ•°ã®å¸‚å ´ã¨é€šè²¨ã«å¯¾å¿œ
- **è‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: Pull Requestã‚„Pushæ™‚ã«è‡ªå‹•çš„ã«ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã‚’æ¤œè¨¼

#### stocks.yamlãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½

`data/stocks.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ã¯è‡ªå‹•çš„ã«æ¤œè¨¼ã•ã‚Œã¾ã™ã€‚ä»¥ä¸‹ã®å ´åˆã«è‡ªå‹•ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

- `data/` ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´ã—ã¦Pull Requestã‚’ä½œæˆã—ãŸæ™‚
- `main` ãƒ–ãƒ©ãƒ³ãƒã« `data/` ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’Pushã—ãŸæ™‚

**æ¤œè¨¼é …ç›®:**
- YAMLæ§‹æ–‡ã®æ­£ç¢ºæ€§
- å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ï¼ˆ`symbol`ï¼‰ã®å­˜åœ¨
- ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‹ãƒã‚§ãƒƒã‚¯ï¼ˆ`quantity`ã€`acquisition_price`ã¯æ•°å€¤ãªã©ï¼‰
- å€¤ã®ç¯„å›²ãƒã‚§ãƒƒã‚¯ï¼ˆ`acquisition_price`ã¯æ­£ã®æ•°ãªã©ï¼‰
- `account_type`ã®æœ‰åŠ¹å€¤ãƒã‚§ãƒƒã‚¯ï¼ˆ'ç‰¹å®š'ã€'NISA'ã€'æ—§NISA'ï¼‰
- `considering_action`ã®æœ‰åŠ¹å€¤ãƒã‚§ãƒƒã‚¯ï¼ˆ'buy'ã€'short_sell'ï¼‰

**æ‰‹å‹•ã§ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ:**

```bash
python src/validate_stocks.py data/stocks.yaml
```

ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¤±æ•—ã—ãŸå ´åˆã€è©³ç´°ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

#### Claude Sonnet APIã‚­ãƒ¼ç™ºè¡Œæ‰‹é †

1. [Anthropic Developer Platform](https://console.anthropic.com)ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã€ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚
2. ãƒ­ã‚°ã‚¤ãƒ³å¾Œã€ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã¾ãŸã¯APIç®¡ç†ç”»é¢ã«ç§»å‹•ã—ã¾ã™ã€‚
3. ã€Œ[API Keys](https://console.anthropic.com/settings/keys)ã€ã‹ã‚‰æ–°è¦APIã‚­ãƒ¼ã‚’ç™ºè¡Œã—ã¾ã™ã€‚
4. ç™ºè¡Œã•ã‚ŒãŸAPIã‚­ãƒ¼ã‚’æ§ãˆã€Githubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒSecrets and variablesã€ã« `CLAUDE_API_KEY` ã¨ã—ã¦ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚

#### Gemini APIã‚­ãƒ¼ç™ºè¡Œæ‰‹é †

1. [Gemini APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹](https://aistudio.google.com/apikey?hl=ja)ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã€‚
2. "Get API key" > "APIã‚­ãƒ¼ã‚’ä½œæˆ"ã‚’é¸æŠã™ã‚‹ã€‚

â€»APIåˆ©ç”¨ã«ã¯æœ‰æ–™ãƒ—ãƒ©ãƒ³ã‚„ç”³è«‹ãŒå¿…è¦ãªå ´åˆãŒã‚ã‚Šã¾ã™ã€‚è©³ç´°ã¯Anthropicå…¬å¼ã®æ¡ˆå†…ã‚’ã”ç¢ºèªãã ã•ã„ã€‚

#### Yahoo Finance APIã‚­ãƒ¼ç™ºè¡Œæ‰‹é †

[YH Finance API](https://financeapi.net/dashboard) ã§APIã‚­ãƒ¼ã‚’å–å¾—ã€‚

## éŠ˜æŸ„ãƒªã‚¹ãƒˆã®ç®¡ç†ã«ã¤ã„ã¦

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€åˆ†æå¯¾è±¡ã®éŠ˜æŸ„ãƒªã‚¹ãƒˆã‚’ãƒªãƒã‚¸ãƒˆãƒªå†…ã® `data/stocks.yaml` ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆYAMLå½¢å¼ï¼‰ã§ç®¡ç†ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®ãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ï¼š

- **å¤‰æ›´å±¥æ­´ã®ç®¡ç†**: Gitã§éŠ˜æŸ„ã®è¿½åŠ ãƒ»å‰Šé™¤å±¥æ­´ã‚’è¿½è·¡ã§ãã¾ã™
- **ç·¨é›†ã®å®¹æ˜“ã•**: ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚‚ç°¡å˜ã«ç·¨é›†ã§ãã¾ã™
- **æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿**: ä¼æ¥­åã€è¿½åŠ æ—¥ã€ãƒ¡ãƒ¢ãªã©ã‚’éŠ˜æŸ„ã”ã¨ã«æ•´ç†ã—ã¦è¨˜éŒ²ã§ãã¾ã™
- **æ‹¡å¼µæ€§**: å°†æ¥çš„ã«éŠ˜æŸ„ã”ã¨ã®è¨­å®šï¼ˆã‚¢ãƒ©ãƒ¼ãƒˆé–¾å€¤ã€åˆ†æé »åº¦ãªã©ï¼‰ã‚’è¿½åŠ ã—ã‚„ã™ã„

è©³ã—ã„ç·¨é›†æ–¹æ³•ã¯ä¸Šè¨˜ã€ŒéŠ˜æŸ„ãƒªã‚¹ãƒˆã®ç®¡ç†ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### è¿½åŠ è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

- YAMLå½¢å¼ã«ã‚ˆã‚Šã€éŠ˜æŸ„ã”ã¨ã«è¿½åŠ ã®ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã‚’æŸ”è»Ÿã«ç®¡ç†ã§ãã¾ã™
- ãã®ä»–ã®åˆ†ææ¡ä»¶ã‚’å¤‰æ•°ã¨ã—ã¦ç®¡ç†ã—ãŸã„å ´åˆã¯ã€ç’°å¢ƒå¤‰æ•°ã‚„è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ å¯èƒ½ã§ã™

## ãƒ†ã‚¹ãƒˆ

æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯è‡ªå‹•ãƒ†ã‚¹ãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ãŠã‚Šã€ã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’ä¿è¨¼ã—ã¦ã„ã¾ã™ã€‚

### ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œæ–¹æ³•

ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆï¼š

```bash
# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt

# ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
python -m pytest tests/ -v

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆä»˜ãã§å®Ÿè¡Œ
python -m pytest tests/ -v --cov=src --cov-report=html
```

### ãƒ†ã‚¹ãƒˆã®ç¨®é¡

- **ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ**: å„ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®å€‹åˆ¥æ©Ÿèƒ½ã‚’ãƒ†ã‚¹ãƒˆ
  - `test_stock_loader.py`: éŠ˜æŸ„ãƒªã‚¹ãƒˆèª­ã¿è¾¼ã¿ã€é€šè²¨åˆ¤å®š
  - `test_validate_stocks.py`: stocks.yamlã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - `test_data_fetcher.py`: ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã®æ¤œè¨¼
  - `test_report_generator.py`: HTMLãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
  - `test_mail_utils.py`: ãƒ¡ãƒ¼ãƒ«æœ¬æ–‡ç”Ÿæˆã€ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å¤‰æ›
  - `test_ai_analyzer.py`: ä¿æœ‰çŠ¶æ³ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã€æç›Šè¨ˆç®—

### è‡ªå‹•ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

Pull Requestã‚’ä½œæˆã™ã‚‹ã¨ã€GitHub Actionsã§è‡ªå‹•çš„ã«ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

- ãƒ†ã‚¹ãƒˆçµæœã¯PRã®ã€ŒChecksã€ã‚¿ãƒ–ã§ç¢ºèªã§ãã¾ã™
- ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´åˆã€ãƒãƒ¼ã‚¸å‰ã«ä¿®æ­£ãŒå¿…è¦ã§ã™
- ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆã¨ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰å¯èƒ½ã§ã™

## GitHub Copilotã®æ´»ç”¨

æœ¬ãƒªãƒã‚¸ãƒˆãƒªã§ã¯GitHub Copilotã‚’æ´»ç”¨ã§ãã¾ã™ï¼š

- **Issueãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ**: Issueä½œæˆæ™‚ã€ã€ŒGitHub Copilotã¸ã®è³ªå•ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è‡ªå‹•çš„ã« `@copilot` ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã®ä¾‹ãŒæŒ¿å…¥ã•ã‚Œã¾ã™ã€‚ã“ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€Issueä½œæˆã¨åŒæ™‚ã«GitHub Copilotã«è³ªå•ã§ãã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€Copilotã«ä¿®æ­£ã¨Pull Requestä½œæˆã¾ã§ä¾é ¼ã™ã‚‹å†…å®¹ã«ãªã£ã¦ã„ã¾ã™ã€‚ã¾ãŸã€Issueä½œæˆæ™‚ã«è‡ªå‹•çš„ã«CopilotãŒAssigneeã¨ã—ã¦è¨­å®šã•ã‚Œã¾ã™ã€‚
- **Copilotã¸ã®è³ªå•**: Issueã®ã‚³ãƒ¡ãƒ³ãƒˆæ¬„ã§ `@copilot` ã¨ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€GitHub Copilotã«è³ªå•ã‚„åˆ†æã‚’ä¾é ¼ã§ãã¾ã™ã€‚åˆ†æã ã‘ã§ãªãã€ä¿®æ­£ã¨Pull Requestä½œæˆã¾ã§è‡ªå‹•ã§ä¾é ¼ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
- **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼**: Pull Requestã§ã¯ã€CODEOWNERSãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚Š `@copilot` ãŒè‡ªå‹•çš„ã«ãƒ¬ãƒ“ãƒ¥ã‚¢ãƒ¼ã¨ã—ã¦è¨­å®šã•ã‚Œã¾ã™ã€‚
- **ã‚«ã‚¹ã‚¿ãƒ ãƒãƒ£ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰**: VS Codeã§ `@kansai` ã¨ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã™ã‚‹ã“ã¨ã§ã€é–¢è¥¿å¼ã§å¿œç­”ã™ã‚‹ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªCopilotãƒãƒ£ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã§ãã¾ã™ã€‚è©³ç´°ã¯ `.github/copilot-chat-participants.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
- **Copilot Instructions**: GitHub Copilot ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå‘ã‘ã®è©³ç´°ãªæŒ‡ç¤ºã¯ `.github/copilot-instructions.md` ã«ã¾ã¨ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚è¦ä»¶å®šç¾©ã€ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã€ãƒ†ã‚¹ãƒˆæ‰‹é †ãªã©ã®è©³ç´°ãªæŒ‡ç¤ºãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ãƒªãƒ³ã‚¯ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚
- **åŠ¹ç‡çš„ãªåˆ©ç”¨**: GitHub Copilot Premium ã®æ¶ˆè²»ã‚’ç¯€ç´„ã™ã‚‹ãŸã‚ã€ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–ã®æ´»ç”¨ã‚„å®Ÿç”¨æ€§é‡è¦–ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ–¹é‡ãªã©ã€åŠ¹ç‡çš„ãªä½œæ¥­æ–¹é‡ã‚’å®šã‚ã¦ã„ã¾ã™ã€‚è©³ç´°ã¯ `.github/instructions/copilot.instructions.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

### Pull Request è‡ªå‹•ãƒãƒ¼ã‚¸æ©Ÿèƒ½

æœ¬ãƒªãƒã‚¸ãƒˆãƒªã«ã¯ã€Pull Request ã‚’æ‰¿èªï¼ˆApproveï¼‰ã™ã‚‹ã¨è‡ªå‹•çš„ã«ãƒãƒ¼ã‚¸ã™ã‚‹æ©Ÿèƒ½ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã™ã€‚

#### å‹•ä½œä»•æ§˜

- Pull Request ãŒæ‰¿èªã•ã‚Œã‚‹ã¨ã€`.github/workflows/auto-merge.yml` ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒè‡ªå‹•å®Ÿè¡Œã•ã‚Œã¾ã™ã€‚
- ãƒãƒ¼ã‚¸æ–¹å¼ã¯ **ã‚¹ã‚«ãƒƒã‚·ãƒ¥ãƒãƒ¼ã‚¸ï¼ˆSquash Mergeï¼‰** ã‚’æ¡ç”¨ã—ã€è¤‡æ•°ã®ã‚³ãƒŸãƒƒãƒˆã‚’1ã¤ã«ã¾ã¨ã‚ã¾ã™ã€‚
- ãƒãƒ¼ã‚¸å¾Œã€ãƒ–ãƒ©ãƒ³ãƒã¯è‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã¾ã™ã€‚

#### å¿…è¦ãªæ¨©é™è¨­å®š

ã“ã®æ©Ÿèƒ½ã‚’ä½¿ç”¨ã™ã‚‹ã«ã¯ã€ä»¥ä¸‹ã®è¨­å®šãŒå¿…è¦ã§ã™ï¼š

1. **Settings > Actions > General > Workflow permissions** ã§ä»¥ä¸‹ã‚’è¨­å®šï¼š
   - ã€ŒRead and write permissionsã€ã‚’é¸æŠ
   - ã€ŒAllow GitHub Actions to create and approve pull requestsã€ã«ãƒã‚§ãƒƒã‚¯

2. ãƒªãƒã‚¸ãƒˆãƒªã®è¨­å®šã§ã€GitHub Actions ã«å¿…è¦ãªæ¨©é™ãŒä»˜ä¸ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚

#### æ³¨æ„äº‹é …

- ãƒãƒ¼ã‚¸å¯èƒ½ãªçŠ¶æ…‹ï¼ˆç«¶åˆãŒãªã„ã€å¿…è¦ãªãƒã‚§ãƒƒã‚¯ãŒé€šéã—ã¦ã„ã‚‹ãªã©ï¼‰ã§ãªã‘ã‚Œã°ã€è‡ªå‹•ãƒãƒ¼ã‚¸ã¯å®Ÿè¡Œã•ã‚Œã¾ã›ã‚“ã€‚
- **DraftçŠ¶æ…‹ã®PRã¯è‡ªå‹•ãƒãƒ¼ã‚¸ã•ã‚Œã¾ã›ã‚“ã€‚** DraftçŠ¶æ…‹ã®PRã‚’æ‰¿èªã—ãŸå ´åˆã€ãã®æ—¨ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ãŒã€ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‰ãšæ­£å¸¸çµ‚äº†ã—ã¾ã™ã€‚Ready for reviewã«å¤‰æ›´ã—ã¦ã‹ã‚‰å†åº¦Approveã—ã¦ãã ã•ã„ã€‚
- æ‰¿èªå¾Œã€æ‰‹å‹•ã§ãƒãƒ¼ã‚¸ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
- è©³ç´°ãªå‹•ä½œç¢ºèªæ‰‹é †ã¯ `.github/instructions/testing.instructions.md` ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## å‚è€ƒ

- [Githubå…¬å¼: Secrets and variables](https://docs.github.com/ja/actions/security-guides/encrypted-secrets)
- [Githubå…¬å¼: Actionsã®è¨­å®š](https://docs.github.com/ja/actions/using-workflows/workflow-syntax-for-github-actions)

---

ã”ä¸æ˜ç‚¹ã¯ `.github/outputs/questions.md` ã¸è¿½è¨˜ã—ã¦ãã ã•ã„ã€‚
