# ドキュメント作成ガイドライン

ドキュメントを作成・編集する際は、以下のルールを厳守してください。

## ドキュメントの責任分掌

各ドキュメントには明確な役割があります。内容を適切なファイルに配置してください。

### 基本原則

1. **各ドキュメントは冒頭で自身の目的を明記すること**
2. **ユーザー向け（README.md）と開発者向け（specs/, docs/）を区別すること**
3. **概要と詳細を分離すること** - 詳細は専門ドキュメントに記載し、概要から参照リンクで繋ぐ
4. **実装詳細と仕様を分離すること** - 恒久的な仕様はspecs/に、実装手順はREADME等に記載

### 主要なドキュメント種別

- **README.md**: ユーザー向けクイックスタート（概要と最小限の手順）
- **.github/specs/\*.md**: システムの恒久的な仕様（機能要件、非機能要件、アーキテクチャ）
- **docs/\*.md**: 特定機能の詳細説明（詳細なアーキテクチャ、トラブルシューティング）
- **[ディレクトリ]/README.md**: そのディレクトリ固有の詳細ガイド

各ドキュメントの詳細な目的・内容は、それぞれのドキュメント冒頭を参照してください。

## DRY原則（Don't Repeat Yourself）

情報の重複を避け、単一情報源（Single Source of Truth）を維持してください：

### 重複を避けるべき内容

1. **詳細な技術説明**: 1つの専門ドキュメントに記載し、他のドキュメントからは参照リンクで誘導
2. **設定値**: コード（設定ファイルなど）を情報源とし、ドキュメントからは参照リンクを使用
3. **手順**: 1箇所に詳細を記載し、他の場所では要約+参照リンクを使用

### 参照リンクの使用

重複を避けるため、詳細情報へは参照リンクを使用してください：

```markdown
詳細なアーキテクチャについては [docs/TEST.md](../../docs/TEST.md) を参照してください。

設定値については [設定ファイル](../../data/preferences.json) を参照してください。
```

### 情報の配置ルール

- **詳細情報は1箇所のみに記載**: 最も適切な専門ドキュメントに配置
- **概要は必要に応じて複数箇所に記載可**: ただし詳細へのリンクを含める
- **コードが情報源の場合**: ドキュメントには記載せず、コードへの参照リンクを使用

## 新規ドキュメント作成時のチェックリスト

新しいドキュメントを作成する前に、以下を確認してください：

1. **既存ドキュメントに追加できないか**: 既存の適切なドキュメントがあれば、そこに追加
2. **責任分掌は明確か**: このドキュメントの役割と対象読者が明確か
3. **重複はないか**: 他のドキュメントと重複する内容がないか
4. **参照リンクは適切か**: 詳細情報への適切な参照リンクがあるか

## 既存ドキュメント更新時のチェックリスト

ドキュメントを更新する際は、以下を確認してください：

1. **責任範囲内か**: そのドキュメントの責任範囲内の内容か
2. **重複が発生していないか**: 他のドキュメントとの重複が発生していないか
3. **参照リンクは更新されているか**: 関連する参照リンクが正しく更新されているか
4. **一貫性**: フォーマットやトーンが既存の内容と一貫しているか

## 例: 適切な配置

### 良い例

```markdown
<!-- README.md -->
株価データはAIで分析され、レポートが生成されます。
詳細は [specs/requirements-index.md](.github/specs/requirements-index.md) を参照してください。

<!-- .github/specs/requirements-index.md -->
（ここに詳細なシステム要件を記載）

<!-- docs/TEST.md -->
（ここに詳細なテスト手順を記載）
```

### VS Code設定の適切な配置パターン

VS Code固有の設定（例：開発ツール設定）を複数のドキュメントで扱う場合：

```markdown
<!-- README.md: 概要と利用効果のみ -->
### [機能名] サポート
本プロジェクトでは[機能]を利用できます。
- 機能A
- 機能B

詳細な設定方法は [.vscode/README.md](.vscode/README.md) を参照してください。

<!-- .vscode/README.md: 詳細な設定手順とトラブルシューティング -->
## [設定ファイル名]
### 機能
- 詳細な機能説明
### 使用方法
1. 前提条件
2. セットアップ手順
### トラブルシューティング
- 問題と解決方法

<!-- .github/specs/system-architecture.md: アーキテクチャ上の位置づけ -->
### [機能名]
アーキテクチャ上の概念・利用効果のみを記載。
設定の詳細は [.vscode/README.md](../../.vscode/README.md) を参照。
```

**ポイント**: 各ドキュメントは異なる目的を持ち、詳細情報は1箇所に集約し参照リンクで繋ぐ。

### 悪い例

```markdown
<!-- README.md -->
株価データはAIで分析され、レポートが生成されます。
システムは以下の5つのモジュールで構成されています...
（詳細すぎる）

<!-- .github/specs/requirements-index.md -->
（同じ内容が重複して記載されている）
```
