# GitHub Copilot 指示事項

GitHub Copilot がこのリポジトリで作業を行う際は、以下の指示に必ず従ってください。

## 言語設定

- **すべての出力（Pull Request のタイトル、説明、コメント、コード内のコメント、ドキュメント等）は日本語で記述してください。**
- Pull Request の作成時は、タイトルと説明を必ず日本語で記述してください。
- コードレビュー時のコメントも日本語で記述してください。
- Issue への返信やコメントも日本語で記述してください。

## Markdown ルール

Markdown ファイルを生成・編集する際は、以下の Lint ルールに必ず準拠してください。

- 見出し階層は 1 段階ずつ（MD001）
- 見出し・リストの前後に必ず空行（MD022, MD032）
- h1 は 1 つのみ（MD025）
- ファイル末尾は 1 つの改行のみ（MD047）

## コーディング規約

- 本プロジェクトは日本語コメントを推奨します。
- 変数名や関数名は英語でも構いませんが、説明やドキュメントは日本語で記述してください。
- 既存のコードスタイルに従ってください。

## ドキュメント・要件定義書の反映

- ソースコードを修正した場合は、要件定義書（.github/instructions/requirements.instructions.md）にも必ず修正内容を反映してください。

### 要件定義書に記載すべき内容

要件定義書は**恒久的なシステム仕様**を記載する文書です。以下の内容を含めてください：

- システムの機能要件（データ収集、AI分析、レポート生成など）
- 非機能要件（セキュリティ、パフォーマンス、拡張性など）
- システム構成とモジュール設計
- 利用技術とアーキテクチャ
- 運用・保守方針

### 要件定義書に記載すべきでない内容

以下の**一過性の情報**は要件定義書に含めず、該当するPRの説明に記載してください：

- 特定のバグや警告の解決方法
- トラブルシューティング手順
- 特定の問題に対する暫定的な対応
- 環境構築時の一時的な問題と解決策

**変更履歴について**: システムの機能や構成に関する恒久的な変更のみ記録してください。バグ修正や一時的な問題解決は記録不要です。

## GitHub Copilot Premium の効率的な利用

GitHub Copilot Premium の消費を節約しつつ、コード品質を維持するため、以下の方針に従ってください。

### テスト戦略

- **既存のテスト自動化を活用**: 本プロジェクトではpytestとGitHub Actionsによる自動テストが実装されています。Pull Request作成時に自動的にテストが実行されるため、手動でのテスト実施は不要です。
- **新規テストの追加**: 新規機能を追加する場合、既存のテストパターンに従って必要最小限のテストを追加してください。テストカバレッジは重要ですが、過剰なテストケースの追加は避けてください。
- **テスト実行**: コード変更後のテスト実行は、GitHub Actionsに任せてください。ローカルでのテスト実行は、デバッグ時など必要な場合のみ実施してください。

### ドキュメント方針

- **要件定義書の更新は必須**: システムの機能や構成に変更があった場合、要件定義書（.github/instructions/requirements.instructions.md）への反映は必須です。
- **実用性の確認**: 新規ドキュメントの作成は、明確な実用性がある場合のみ行ってください。例えば、新しい機能の使用方法、複雑な設定手順、トラブルシューティングガイドなど。
- **既存ドキュメントの活用**: 既存のREADME.md、docs/TEST.md、docs/MODULE_REFERENCE.mdなどを優先的に更新してください。新規ファイルの作成は最小限に。
- **サンプルやテンプレートファイル**: 実際に使用されないサンプルファイルやテンプレートファイルの作成は避けてください。

### 作業効率化

- **最小限の変更**: 問題を解決するために必要最小限のコード変更を心がけてください。
- **自動化の活用**: テスト、ビルド、デプロイなどは既存のGitHub Actionsワークフローを活用してください。
- **重複作業の回避**: 同じような処理が既に実装されている場合、既存のコードを再利用してください。
